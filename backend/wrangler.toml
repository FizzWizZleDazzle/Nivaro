name = "backend"
main = "build/worker/shim.mjs"
compatibility_date = "2025-07-17"

[build]
command = "cargo install -q worker-build && worker-build --release"

[[d1_databases]]
binding = "DB"
database_name = "nivaro-auth"
database_id = "placeholder-for-real-deployment"

# Production environment
[env.production]
name = "nivaro-backend"
vars = { ENVIRONMENT = "production" }

# Staging environment  
[env.staging]
name = "nivaro-backend-staging"
vars = { ENVIRONMENT = "staging" }
